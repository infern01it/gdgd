import {
	FETCH_ARRAYS_START,
	FETCH_ARRAYS_SUCCESS,
	FETCH_ARRAYS_FAILURE,
	FETCH_CONCEPT_START,
	FETCH_CONCEPT_SUCCESS,
	FETCH_CONCEPT_FAILURE,
	FETCH_CITY_START,
	FETCH_CITY_SUCCESS,
	FETCH_CITY_FAILURE
} from 'actionTypes';

import {
	fetchArrays as fetchArraysApi,
	fetchConcept as fetchConceptApi,
	fetchCity as fetchCityApi
} from 'api';

export const fetchArrays = () => async dispatch => {
	dispatch({type: FETCH_ARRAYS_START});

	try {
		const arrays = await fetchArraysApi();
		dispatch({
			type: FETCH_ARRAYS_SUCCESS,
			payload: arrays
		});
	} catch(err) {
		dispatch({
			type: FETCH_ARRAYS_FAILURE,
			payload: err,
			error: true
		});
	}
}

export const fetchConcept = () => async dispatch => {
	dispatch({type: FETCH_CONCEPT_START});

	try {
		const concept = await fetchConceptApi();
		dispatch({
			type: FETCH_CONCEPT_SUCCESS,
			payload: concept
		});
	} catch(err) {
		dispatch({
			type: FETCH_CONCEPT_FAILURE,
			payload: err,
			error: true
		});
	}
}

export const fetchCity = () => async dispatch => {
	dispatch({type: FETCH_CITY_START});

	try {
		const city = await fetchCityApi();
		dispatch({
			type: FETCH_CITY_SUCCESS,
			payload: city
		});
	} catch(err) {
		dispatch({
			type: FETCH_CITY_FAILURE,
			payload: err,
			error: true
		});
	}
}

// export const filterArrays = () => dispatch => {
// 	dispatch({type: FETCH_ARRAYS_START});
// 	const arrays = '';
// 	dispatch({
// 		type: FETCH_ARRAYS_SUCCESS,
// 		payload: arrays
// 	});
// }