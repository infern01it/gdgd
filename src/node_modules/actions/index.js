import {
	FETCH_PHONES_START,
	FETCH_PHONES_SUCCESS,
	FETCH_PHONES_FAILURE,
	FETCH_ARRAYS_START,
	FETCH_ARRAYS_SUCCESS,
	FETCH_ARRAYS_FAILURE,
	FILTER_ARRAYS_START,
	FILTER_ARRAYS_SUCCESS,
	FILTER_ARRAYS_FAILURE
} from 'actionTypes';

import {
	fetchPhones as fetchPhonesApi,
	fetchArrays as fetchArraysApi
} from 'api';

export const fetchPhones = () => async dispatch => {
	dispatch({type: FETCH_PHONES_START});

	try {
		const phones = await fetchPhonesApi();
		dispatch({
			type: FETCH_PHONES_SUCCESS,
			payload: phones
		});
	} catch(err) {
		dispatch({
			type: FETCH_PHONES_FAILURE,
			payload: err,
			error: true
		});
	}
}

export const fetchArrays = () => async dispatch => {
	dispatch({type: FETCH_ARRAYS_START});

	try {
		const arrays = await fetchArraysApi();
		dispatch({
			type: FETCH_ARRAYS_SUCCESS,
			payload: arrays
		});
	} catch(err) {
		dispatch({
			type: FETCH_ARRAYS_FAILURE,
			payload: err,
			error: true
		});
	}
}

export const filterArrays = () => dispatch => {
	dispatch({type: FETCH_ARRAYS_START});
	const arrays = '';
	dispatch({
		type: FETCH_ARRAYS_SUCCESS,
		payload: arrays
	});
}