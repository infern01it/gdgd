import React, { Component, Fragment } from 'react';
import { Route } from 'react-router';
import { connect } from 'react-redux';

import {fetchCity} from 'actions';
import {getCity} from 'selectors';

import AllCity from 'containers/AllCity';

class RouteCity extends Component {
  render() {
    const { city } = this.props;

    return (
			<Fragment>
        {
          city.length !== 0 && city.map(el => {
            return <Route path={`/${el.translit_name}`} component={() => <AllCity filter={{city_id: [el.id]}} />} key={el.id} />;
          })
        }
			</Fragment>
    );
  }
}

const mapStateToProps = (state) => ({
  city: getCity(state)
});

const mapDispatchToProps = {
  fetchCity
};

export default connect(mapStateToProps, mapDispatchToProps)(RouteCity);